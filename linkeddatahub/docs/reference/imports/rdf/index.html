<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <title>LinkedDataHub v3 - RDF imports</title>
      <meta name="description" content="RDF imports and transforming RDF using SPARQL CONSTRUCT"/>
      <link rel="up" href="../index.html"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/bootstrap.css" rel="stylesheet" type="text/css"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/bootstrap-responsive.css" rel="stylesheet" type="text/css"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/linkeddatahub-bootstrap.css" rel="stylesheet" type="text/css"/>
      <style type="text/css">
                body { padding-top: 60px; }
                object { width: 100%; min-height: 640px; }
            </style><script type="text/javascript" src="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/js/jquery.min.js"></script><script type="text/javascript" src="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/js/bootstrap.min.js"></script><script type="text/javascript">
                $(document).ready(function()
                {

                    $("ul.nav-tabs a").on("click", function()
                    {
                        $(this).closest("ul").children().toggleClass("active", false); // deactivate other tabs
                        $(this).closest("li").toggleClass("active", true); // activate this tab
                        $(this).closest("ul").next().children().toggleClass("active", false); // deactivate other tab panes
                        $(this).closest("ul").next().children().eq($(this).closest("li").index()).toggleClass("active", true); // activate this tab pane
                    });

                });
            </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-38402002-6"></script><script>
                
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());

                    gtag('config', 'UA-38402002-6');
                
            </script></head>
   <body>
      <div class="navbar navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container-fluid"><a class="brand" href="https://atomgraph.github.io/LinkedDataHub/">LinkedDataHub</a><div class="nav-collapse collapse">
                  <ul class="nav">
                     <li class="active">
                        <div class="btn-group"><a class="btn" href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/">Documentation v3</a><button class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu">
                              <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/v2/">Documentation v2</a></li>
                           </ul>
                        </div>
                     </li>
                     <li><a href="https://github.com/AtomGraph/LinkedDataHub" target="_blank">Code</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div class="container-fluid">
         <div class="row-fluid">
            <nav class="span2">
               <h2>LinkedDataHub v3</h2>
               <ul class="nav nav-list">
                  <li><a href="../../../about/index.html" title="An RDF-native Knowledge Graph notebook">About LinkedDataHub</a></li>
                  <li><a href="../../../get-started/index.html" title="All the basics of LinkedDataHub. From installation to extending the model and user interface.">Get started</a><ul class="nav nav-list">
                        <li><a href="../../../get-started/get-an-account/index.html" title="How to get login to LinkedDataHub">Get an account</a></li>
                        <li><a href="../../../get-started/request-access/index.html" title="How to get access to an application">Request access</a></li>
                        <li><a href="../../../get-started/setup/index.html" title="Setup LinkedDataHub on your local machine or access it in the cloud">Setup</a></li>
                     </ul>
                  </li>
                  <li><a href="../../index.html" title="A list of LinkedDataHub's features and their functions, split into general and administration parts">Reference</a><ul class="nav nav-list">
                        <li><a href="../../administration/index.html" title="Access control and domain model management">Administration</a><ul class="nav nav-list">
                              <li><a href="../../administration/acl/index.html" title="Agents, groups, and authorizations">Access control</a></li>
                              <li><a href="../../administration/model/index.html" title="Ontology classes, constraints, properties etc.">Model</a></li>
                           </ul>
                        </li>
                        <li><a href="../../command-line-interface/index.html" title="CLI scripts can be used perform all actions available in the UI">Command line interface</a></li>
                        <li><a href="../../configuration/index.html" title="Overview of configuration options">Configuration</a></li>
                        <li><a href="../../data-management/index.html" title="Management actions that can be performed on documents (graphs) and their content">Data management</a><ul class="nav nav-list">
                              <li><a href="../../data-management/contents/index.html" title="Content blocks and the basic data content actions">Content management</a></li>
                              <li><a href="../../data-management/documents/index.html" title="Document hierarchy and the basic data management actions">Document management</a></li>
                           </ul>
                        </li>
                        <li><a href="../../dataset/index.html" title="The default RDF dataset structure used by LinkedDataHub">RDF dataset</a></li>
                        <li><a href="../../dataspace/index.html" title="LinkedDataHub dataspaces, applications, and services">Dataspace</a></li>
                        <li><a href="../../http-api/index.html" title="Learn how to access and manage RDF data over generic HTTP API">HTTP API</a></li>
                        <li><a href="../index.html" title="Types of data imports supported by LinkedDataHub">Imports</a><ul class="nav nav-list">
                              <li><a href="../csv/index.html" title="CSV imports and mapping to RDF using SPARQL CONSTRUCT">CSV imports</a></li>
                              <li class="active"><a href="" title="RDF imports and transforming RDF using SPARQL CONSTRUCT">RDF imports</a></li>
                           </ul>
                        </li>
                        <li><a href="../../stylesheets/index.html" title="Built-in XSLT and CSS stylesheets">Stylesheets</a></li>
                        <li><a href="../../user-interface/index.html" title="A walk through the main features of application user interface">User interface</a></li>
                     </ul>
                  </li>
                  <li><a href="../../../user-guide/index.html" title="Step-by-step tutorials for everyday tasks with LinkedDataHub">User guide</a><ul class="nav nav-list">
                        <li><a href="../../../user-guide/add-data/index.html" title="Fork RDF data from Linked Data resources and SPARQL results">Add data</a></li>
                        <li><a href="../../../user-guide/browse-data/index.html" title="Use LinkedDataHub's built-in Linked Data browser to explore remote datasources">Browse data</a></li>
                        <li><a href="../../../user-guide/change-layout/index.html" title="How to customize the layout of an application and the UI of the resources">Change layout</a></li>
                        <li><a href="../../../user-guide/change-model/index.html" title="Change the model: create constructors, classes, and constraints">Change the model</a></li>
                        <li><a href="../../../user-guide/change-system-base-uri/index.html" title="How to change host, port, or the path LinkedDataHub service runs on">Change system base URI</a></li>
                        <li><a href="../../../user-guide/create-data/index.html" title="How to create documents, content, and instances">Create data</a><ul class="nav nav-list">
                              <li><a href="../../../user-guide/create-data/create-content/index.html" title="Learn how to create data-driven content">Create content</a></li>
                              <li><a href="../../../user-guide/create-data/create-documents/index.html" title="Learn how to create container and item documents">Create documents</a></li>
                              <li><a href="../../../user-guide/create-data/create-instances/index.html" title="Learn how to create of built-in and user-defined classes">Create instances</a></li>
                           </ul>
                        </li>
                        <li><a href="../../../user-guide/import-data/index.html" title="How to import data into LinkedDataHub">Import data</a><ul class="nav nav-list">
                              <li><a href="../../../user-guide/import-data/import-csv-data/index.html" title="Step by step guide to converting CSV data to RDF and importing into end-user application">Import CSV data</a></li>
                              <li><a href="../../../user-guide/import-data/import-rdf-data/index.html" title="Step by step guide to importing RDF data">Import RDF data</a></li>
                           </ul>
                        </li>
                        <li><a href="../../../user-guide/manage-dataspaces/index.html" title="Create or change a dataspace, configure SPARQL services and XSLT stylesheets">Manage dataspaces</a></li>
                        <li><a href="../../../user-guide/navigate-data/index.html" title="Navigate the document hierarchy, related results, and backlinks">Navigate data</a></li>
                        <li><a href="../../../user-guide/query-data/index.html" title="Learn how to query application data with SPARQL, store queries and charts">Query data</a></li>
                        <li><a href="../../../user-guide/search-data/index.html" title="Search for resources using text keywords">Search data</a></li>
                        <li><a href="../../../user-guide/upload-file/index.html" title="Learn how to upload files to LinkedDataHub">Upload file</a></li>
                     </ul>
                  </li>
               </ul>
            </nav>
            <main class="span7">
               <header>
                  <h1>RDF imports</h1>
               </header>
               <div>
                  
                  <p class="lead">RDF imports and transforming RDF using SPARQL CONSTRUCT</p>
                  
                  <p>An RDF import is a combination of multiple resources:</p>
                  
                  <dl>
                     
                     <dt>File</dt>
                     
                     <dd>The RDF file to be imported</dd>
                     
                     <dt>Transformation query (optional)</dt>
                     
                     <dd>A user-defined <code>CONSTRUCT</code> query that transforms the input RDF into another RDF</dd>
                     
                     <dt>Graph (optional)</dt>
                     
                     <dd>The target graph (document) to which converted items will be <a href="../../http-api/#ld-post">POST</a>ed</dd>
                     </dl>
                  
                  <p><em>Either the transformation query or the target graph needs to be specified, not both.</em></p>
                  
                  <p>If the graph is specified, the resulting RDF data is appended to a single document.</p>
                  
                  <p>If the transformation query is specified, the resulting data should contain document
                     instances in order to attach to the <a href="../../dataset/#structure">document hierarchy</a>. The documents have to be URI resources. The document graphs have to be <em>explicitly specified</em> using a <code>GRAPH</code> in the <code>CONSTRUCT</code> template (which is a
                     <a href="https://jena.apache.org/documentation/query/construct-quad.html" target="_blank">Jena-specific extension</a> of SPARQL 1.1), otherwise the import result will end up in the default graph of the
                     application's RDF dataset, which is not accessible via LinkedDataHub.</p>
                  
                  <p>The import process runs asynchronously in the background, i.e. the import item is
                     created before the process completes.
                     Currently the only way to determine when it completes is to refresh the import item
                     and check the import
                     status (completed/failed). Upon successful report, metadata such as the number of
                     imported RDF triples is attached
                     to the import.</p>
                  
                  <p>The resulting RDF is split into documents (named graphs), which are then created one
                     by one and validated against <a href="../../administration/model/#constraints">constraints</a> in the process.
                     Constraint violations, if any, are attached to the import item.</p>
                  
                  <div>
                     
                     <p>Lets assume we want to import SKOS concept data:</p>
                     
                     <pre>@prefix : &lt;http://vocabularies.unesco.org/thesaurus/&gt; .
@prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix dcterms: &lt;http://purl.org/dc/terms/&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .

:concept10 a skos:Concept ;
    dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
    skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
    skos:narrower :concept4938 , :concept7597 ;
    skos:prefLabel "Right to education"@en , "Droit à l'éducation"@fr , "Derecho a la educación"@es , "Право на образование"@ru ;
    skos:related :concept9 , :concept556 , :concept557 , :concept1519 , :concept5052 ;
    skos:topConceptOf &lt;http://vocabularies.unesco.org/thesaurus&gt; .

:concept1000 a skos:Concept ;
    dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
    skos:broader :concept389 ;
    skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
    skos:prefLabel "Talent"@en , "Talent"@fr , "Talento"@es , "Талант"@ru ;
    skos:related :concept993 , :concept996 , :concept3086 .

:concept10003 a skos:Concept ;
    dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
    skos:altLabel "Entrevue"@fr ;
    skos:broader :concept4725 ;
    skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
    skos:prefLabel "Interviews"@en , "Entretien"@fr , "Entrevista"@es , "Интервью"@ru .</pre>
                     
                     <div>
                        
                        <h3 id="transformation">Transformation</h3>
                        
                        <p>This step is used to transform the RDF data that is being imported, if necessary (to
                           a different vocabulary, for example). It also connects instances in the imported data
                           to the documents in LinkedDataHub's <a href="../../dataset/" target="_blank">dataset</a>.</p>
                        
                        <p>The mapping is a user-defined SPARQL <code>CONSTRUCT</code>. These are the rules that hold for mapping queries:</p>
                        
                        <ul>
                           
                           <li><code>BASE</code> value is automatically set to the imported file's URI. Do not add an explicit <code>BASE</code> to the query.</li>
                           
                           <li><code>$base</code> binding is set to the value of the application's baseURI</li>
                           
                           <li>use<code>OPTIONAL</code> for optional values</li>
                           
                           <li>use <code>BIND()</code> to introduce new values and/or cast literals to the appropriate result datatype or
                              URI</li>
                           
                           <li>when building document URIs, use natural IDs from the input data (or UUIDs if there
                              are no IDs) and remember to URI-encode them using <code>encode_for_uri</code></li>
                           
                           <li>use a <code>GRAPH</code> block in the constructor template to construct triples for a specific document</li>
                           
                           <li>construct <dfn>dh:Container</dfn> instances to create new container documents or <dfn>dh:Item</dfn> instances to create new item documents. <code>dct:title</code> values are mandatory for documents.</li>
                           
                           <li>if you're constructing non-information resource (e.g. thing, concept) descriptions,
                              assign them URIs with fragment identified (e.g. <samp>#this</samp>) and pair them with item documents using the <code>foaf:primaryTopic</code> property</li>
                           </ul>
                        
                        <p>Blank node resources in the output will be skolemized depending on their RDF types.</p>
                        
                        <p>We plan to provide a UI-based mapping tool in the future.</p>
                        
                        <div>
                           
                           <h4 id="transformation-example">Example</h4>
                           
                           <p>In this example we pair each SKOS concept from the imported dataset with a new document:</p>
                           
                           <pre><code>PREFIX dh:    &lt;https://www.w3.org/ns/ldt/document-hierarchy#&gt;
    PREFIX sioc:  &lt;http://rdfs.org/sioc/ns#&gt;
    PREFIX foaf:  &lt;http://xmlns.com/foaf/0.1/&gt;
    PREFIX skos:  &lt;http://www.w3.org/2004/02/skos/core#&gt;
    PREFIX dct:   &lt;http://purl.org/dc/terms/&gt;

    CONSTRUCT
    {
        GRAPH ?item
        {
            ?concept ?p ?o .

            ?item a dh:Item ;
                foaf:primaryTopic ?concept ;
                sioc:has_container ?container ;
                dh:slug ?id ;
                dct:title ?prefLabel .
        }
    }
    WHERE
    {
        SELECT *
        {
            ?concept a skos:Concept .
            BIND (STRAFTER(STR(?concept), "http://vocabularies.unesco.org/thesaurus/") AS ?id)
            BIND (uri(concat(str($base), "concepts/")) AS ?container)
            BIND (uri(concat(str(?container), encode_for_uri(?id), "/")) AS ?item)

            ?concept ?p ?o
            OPTIONAL
            {
                ?concept skos:prefLabel ?prefLabel
                FILTER (langMatches(lang(?prefLabel), "en"))
            }
        }
    }</code></pre>
                           
                           <p>When the import is complete, you should be able to see the imported documents as children
                              of the <samp>${base}concepts/</samp> container.</p>
                           
                           <p>The result of our mapping:</p>
                           
                           <pre>@prefix : &lt;http://vocabularies.unesco.org/thesaurus/&gt; .
    @prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
    @prefix dcterms: &lt;http://purl.org/dc/terms/&gt; .
    @prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
    @prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
    @prefix sioc: &lt;http://rdfs.org/sioc/ns#&gt; .
    @prefix dh: &lt;https://www.w3.org/ns/ldt/document-hierarchy#&gt; .

    :concept10 a skos:Concept ;
        dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
        skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
        skos:narrower :concept4938 , :concept7597 ;
        skos:prefLabel "Right to education"@en , "Droit à l'éducation"@fr , "Derecho a la educación"@es , "Право на образование"@ru ;
        skos:related :concept9 , :concept556 , :concept557 , :concept1519 , :concept5052 ;
        skos:topConceptOf &lt;http://vocabularies.unesco.org/thesaurus&gt; .

    &lt;concepts/c499e66a-8036-4637-929d-0d809177883e/&gt; a dh:Item ;
        sioc:has_container &lt;concepts/&gt; ;
        dh:slug "c499e66a-8036-4637-929d-0d809177883e" ;
        dcterms:title "Right to education"@en ;
        foaf:primaryTopic :concept10 .

    :concept1000 a skos:Concept ;
        dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
        skos:broader :concept389 ;
        skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
        skos:prefLabel "Talent"@en , "Talent"@fr , "Talento"@es , "Талант"@ru ;
        skos:related :concept993 , :concept996 , :concept3086 .

    &lt;concepts/f41910fa-9077-4656-8f73-752fd923a79b/&gt; a dh:Item ;
        sioc:has_container &lt;concepts/&gt; ;
        dh:slug "f41910fa-9077-4656-8f73-752fd923a79b" ;
        dcterms:title "Talent"@en ;
        foaf:primaryTopic :concept1000 .

    :concept10003 a skos:Concept ;
        dcterms:modified "2006-05-23T00:00:00"^^xsd:dateTime ;
        skos:altLabel "Entrevue"@fr ;
        skos:broader :concept4725 ;
        skos:inScheme &lt;http://vocabularies.unesco.org/thesaurus&gt; ;
        skos:prefLabel "Interviews"@en , "Entretien"@fr , "Entrevista"@es , "Интервью"@ru .

    &lt;concepts/2afb2e06-5081-4db1-9255-660fcd1b3ec8/&gt; a dh:Item ;
        sioc:has_container &lt;concepts/&gt; ;
        dh:slug "2afb2e06-5081-4db1-9255-660fcd1b3ec8" ;
        dcterms:title "Interviews"@en ;
        foaf:primaryTopic :concept10003 .</pre>
                           </div>
                        </div>
                     </div>
                  
                  <p class="lead">If you are ready to import some RDF, see our step-by-step tutorial on <a href="../../../user-guide/import-data/import-rdf-data/">creating an RDF import</a>.</p>
                  </div>
               <nav></nav>
            </main>
         </div>
      </div>
      <div class="footer container-fluid">
         <div class="row-fluid">
            <div class="offset2 span8">
               <div class="span3">
                  <h2 class="nav-header">About</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/about/" target="_blank">LinkedDataHub</a></li>
                     <li><a href="https://atomgraph.com" target="_blank">AtomGraph</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Resources</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/" target="_blank">Documentation</a></li>
                     <li><a href="https://www.youtube.com/channel/UCtrdvnVjM99u9hrjESwfCeg" target="_blank">Screencasts</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Support</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://groups.io/g/linkeddatahub" target="_blank">Mailing list</a></li>
                     <li><a href="https://github.com/AtomGraph/LinkedDataHub/issues" target="_blank">Report issues</a></li>
                     <li><a href="mailto:support@linkeddatahub.com">Contact support</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Follow us</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://twitter.com/atomgraphhq" target="_blank">@atomgraphhq</a></li>
                     <li><a href="https://github.com/AtomGraph" target="_blank">github.com/AtomGraph</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>