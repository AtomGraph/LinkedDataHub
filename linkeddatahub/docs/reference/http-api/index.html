<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <title>LinkedDataHub v3 - HTTP API</title>
      <meta name="description" content="Learn how to access and manage RDF data over generic HTTP API"/>
      <link rel="up" href="../index.html"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/bootstrap.css" rel="stylesheet" type="text/css"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/bootstrap-responsive.css" rel="stylesheet" type="text/css"/>
      <link href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/css/linkeddatahub-bootstrap.css" rel="stylesheet" type="text/css"/>
      <style type="text/css">
                body { padding-top: 60px; }
                object { width: 100%; min-height: 640px; }
            </style><script type="text/javascript" src="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/js/jquery.min.js"></script><script type="text/javascript" src="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/files/js/bootstrap.min.js"></script><script type="text/javascript">
                $(document).ready(function()
                {

                    $("ul.nav-tabs a").on("click", function()
                    {
                        $(this).closest("ul").children().toggleClass("active", false); // deactivate other tabs
                        $(this).closest("li").toggleClass("active", true); // activate this tab
                        $(this).closest("ul").next().children().toggleClass("active", false); // deactivate other tab panes
                        $(this).closest("ul").next().children().eq($(this).closest("li").index()).toggleClass("active", true); // activate this tab pane
                    });

                });
            </script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-38402002-6"></script><script>
                
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){dataLayer.push(arguments);}
                    gtag('js', new Date());

                    gtag('config', 'UA-38402002-6');
                
            </script></head>
   <body>
      <div class="navbar navbar-fixed-top">
         <div class="navbar-inner">
            <div class="container-fluid"><a class="brand" href="https://atomgraph.github.io/LinkedDataHub/">LinkedDataHub</a><div class="nav-collapse collapse">
                  <ul class="nav">
                     <li class="active">
                        <div class="btn-group"><a class="btn" href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/">Documentation v3</a><button class="btn dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu">
                              <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/v2/">Documentation v2</a></li>
                           </ul>
                        </div>
                     </li>
                     <li><a href="https://github.com/AtomGraph/LinkedDataHub" target="_blank">Code</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
      <div class="container-fluid">
         <div class="row-fluid">
            <nav class="span2">
               <h2>LinkedDataHub v3</h2>
               <ul class="nav nav-list">
                  <li><a href="../../about/index.html" title="An RDF-native Knowledge Graph notebook">About LinkedDataHub</a></li>
                  <li><a href="../../get-started/index.html" title="All the basics of LinkedDataHub. From installation to extending the model and user interface.">Get started</a><ul class="nav nav-list">
                        <li><a href="../../get-started/get-an-account/index.html" title="How to get login to LinkedDataHub">Get an account</a></li>
                        <li><a href="../../get-started/request-access/index.html" title="How to get access to an application">Request access</a></li>
                        <li><a href="../../get-started/setup/index.html" title="Setup LinkedDataHub on your local machine or access it in the cloud">Setup</a></li>
                     </ul>
                  </li>
                  <li><a href="../index.html" title="A list of LinkedDataHub's features and their functions, split into general and administration parts">Reference</a><ul class="nav nav-list">
                        <li><a href="../administration/index.html" title="Access control and domain model management">Administration</a><ul class="nav nav-list">
                              <li><a href="../administration/acl/index.html" title="Agents, groups, and authorizations">Access control</a></li>
                              <li><a href="../administration/model/index.html" title="Ontology classes, constraints, properties etc.">Model</a></li>
                           </ul>
                        </li>
                        <li><a href="../command-line-interface/index.html" title="CLI scripts can be used perform all actions available in the UI">Command line interface</a></li>
                        <li><a href="../configuration/index.html" title="Overview of configuration options">Configuration</a></li>
                        <li><a href="../data-management/index.html" title="Management actions that can be performed on documents (graphs) and their content">Data management</a><ul class="nav nav-list">
                              <li><a href="../data-management/contents/index.html" title="Content blocks and the basic data content actions">Content management</a></li>
                              <li><a href="../data-management/documents/index.html" title="Document hierarchy and the basic data management actions">Document management</a></li>
                           </ul>
                        </li>
                        <li><a href="../dataset/index.html" title="The default RDF dataset structure used by LinkedDataHub">RDF dataset</a></li>
                        <li><a href="../dataspace/index.html" title="LinkedDataHub dataspaces, applications, and services">Dataspace</a></li>
                        <li class="active"><a href="" title="Learn how to access and manage RDF data over generic HTTP API">HTTP API</a></li>
                        <li><a href="../imports/index.html" title="Types of data imports supported by LinkedDataHub">Imports</a><ul class="nav nav-list">
                              <li><a href="../imports/csv/index.html" title="CSV imports and mapping to RDF using SPARQL CONSTRUCT">CSV imports</a></li>
                              <li><a href="../imports/rdf/index.html" title="RDF imports and transforming RDF using SPARQL CONSTRUCT">RDF imports</a></li>
                           </ul>
                        </li>
                        <li><a href="../stylesheets/index.html" title="Built-in XSLT and CSS stylesheets">Stylesheets</a></li>
                        <li><a href="../user-interface/index.html" title="A walk through the main features of application user interface">User interface</a></li>
                     </ul>
                  </li>
                  <li><a href="../../user-guide/index.html" title="Step-by-step tutorials for everyday tasks with LinkedDataHub">User guide</a><ul class="nav nav-list">
                        <li><a href="../../user-guide/add-data/index.html" title="Fork RDF data from Linked Data resources and SPARQL results">Add data</a></li>
                        <li><a href="../../user-guide/browse-data/index.html" title="Use LinkedDataHub's built-in Linked Data browser to explore remote datasources">Browse data</a></li>
                        <li><a href="../../user-guide/change-layout/index.html" title="How to customize the layout of an application and the UI of the resources">Change layout</a></li>
                        <li><a href="../../user-guide/change-model/index.html" title="Change the model: create constructors, classes, and constraints">Change the model</a></li>
                        <li><a href="../../user-guide/change-system-base-uri/index.html" title="How to change host, port, or the path LinkedDataHub service runs on">Change system base URI</a></li>
                        <li><a href="../../user-guide/create-data/index.html" title="How to create documents, content, and instances">Create data</a><ul class="nav nav-list">
                              <li><a href="../../user-guide/create-data/create-content/index.html" title="Learn how to create data-driven content">Create content</a></li>
                              <li><a href="../../user-guide/create-data/create-documents/index.html" title="Learn how to create container and item documents">Create documents</a></li>
                              <li><a href="../../user-guide/create-data/create-instances/index.html" title="Learn how to create of built-in and user-defined classes">Create instances</a></li>
                           </ul>
                        </li>
                        <li><a href="../../user-guide/import-data/index.html" title="How to import data into LinkedDataHub">Import data</a><ul class="nav nav-list">
                              <li><a href="../../user-guide/import-data/import-csv-data/index.html" title="Step by step guide to converting CSV data to RDF and importing into end-user application">Import CSV data</a></li>
                              <li><a href="../../user-guide/import-data/import-rdf-data/index.html" title="Step by step guide to importing RDF data">Import RDF data</a></li>
                           </ul>
                        </li>
                        <li><a href="../../user-guide/manage-dataspaces/index.html" title="Create or change a dataspace, configure SPARQL services and XSLT stylesheets">Manage dataspaces</a></li>
                        <li><a href="../../user-guide/navigate-data/index.html" title="Navigate the document hierarchy, related results, and backlinks">Navigate data</a></li>
                        <li><a href="../../user-guide/query-data/index.html" title="Learn how to query application data with SPARQL, store queries and charts">Query data</a></li>
                        <li><a href="../../user-guide/search-data/index.html" title="Search for resources using text keywords">Search data</a></li>
                        <li><a href="../../user-guide/upload-file/index.html" title="Learn how to upload files to LinkedDataHub">Upload file</a></li>
                     </ul>
                  </li>
               </ul>
            </nav>
            <main class="span7">
               <header>
                  <h1>HTTP API</h1>
               </header>
               <div>
                  
                  <p class="lead">Learn how to read and write RDF data from/to LinkedDataHub applications over HTTP</p>
                  
                  <p>LinkedDataHub implements a uniform, generic RESTful Linked Data API as defined by
                     the
                     <a href="https://www.w3.org/TR/sparql11-http-rdf-update/" target="_blank">SPARQL 1.1 Graph Store Protocol</a>. It adds a few <a href="#graph-names">conventions</a> and <a href="#constraints">constraints</a>
                     on top of it however.</p>
                  
                  <div>
                     
                     <h2 id="auth">Authentication</h2>
                     
                     <p>LinkedDataHub UI supports 2 authentication methods:</p>
                     
                     <ul>
                        
                        <li><a href="https://dvcs.w3.org/hg/WebID/raw-file/tip/spec/tls-respec.html" target="_blank">WebID-TLS</a> using TLS client certificates</li>
                        
                        <li><a href="https://developers.google.com/identity/protocols/oauth2/openid-connect" target="_blank">OpenID Connect using Google</a></li>
                        </ul>
                     
                     <p>See how those authentication methods can be <a href="../configuration/">configured</a> or how to <a href="../../get-started/get-an-account/">get an account</a> on LinkedDataHub.</p>
                     
                     <div class="alert alert-info">
                        
                        <p>HTTP API access using <a href="../command-line-interface/">CLI scripts</a> or curl currently does not support the OIDC method.</p>
                        </div>
                     </div>
                  
                  <div>
                     
                     <h2 id="acl">Access control</h2>
                     
                     <p>All HTTP access to <a href="#documents">documents</a> is subject to <a href="../administration/acl/">access
                           control</a>. Requesting a resource with insufficient access rights will result in <code>403 Forbidden</code> response. That  means either:</p>
                     
                     <ul>
                        
                        <li>the user is not authenticated and public access to the resource is not allowed</li>
                        
                        <li>the user is authenticated but the associated agent does not have an authorization
                           to <a href="../data-management/documents/#manage">perform the action</a> on the
                           requested resource</li>
                        </ul>
                     </div>
                  
                  <div>
                     
                     <h2 id="documents">Managing documents</h2>
                     
                     <p>LinkedDataHub supports the <a href="https://www.w3.org/TR/sparql11-http-rdf-update/#indirect-graph-identification" target="_blank">indirect graph identification</a> using the <code>service</code> endpoint and the
                        <code>graph</code> URL parameter as well as the <a href="https://www.w3.org/TR/sparql11-http-rdf-update/#direct-graph-identification" target="_blank">direct identification</a>, since every document is also a
                        <a href="../dataset/#structure">named graph</a>.</p>
                     
                     <table class="table">
                        
                        <thead>
                           
                           <tr>
                              
                              <th>Method</th>
                              
                              <th>Description</th>
                              
                              <th>Success</th>
                              
                              <th>Failure</th>
                              
                              <th>Reason</th>
                              </tr>
                           </thead>
                        
                        <tbody>
                           
                           <tr>
                              
                              <th rowspan="2"><code id="ld-get">GET</code></th>
                              
                              <td rowspan="2">Returns description of requested resource</td>
                              
                              <td rowspan="2"><code>200 OK</code></td>
                              
                              <td><code>404 Not Found</code></td>
                              
                              <td>Resource with request URI not found</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>406 Not Acceptable</code></td>
                              
                              <td><a href="#con-neg">Media type</a> not supported</td>
                              </tr>
                           
                           <tr>
                              
                              <th rowspan="5"><code id="ld-post">POST</code></th>
                              
                              <td rowspan="5">Appends data to the application dataset (creates or updates resource descriptions)</td>
                              
                              <td rowspan="5"><code>200 OK</code> <code>201 Created</code></td>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td><a href="#con-neg">RDF syntax error</a></td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td><a href="../administration/model/#constraints">Constraint</a> violation</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>409 Conflict</code></td>
                              
                              <td>Resource already exists</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>413 Payload Too Large</code></td>
                              
                              <td>Request body too large</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>415 Unsupported Media Type</code></td>
                              
                              <td><a href="#con-neg">Media type</a> not supported</td>
                              </tr>
                           
                           <tr>
                              
                              <th rowspan="5"><code id="ld-put">PUT</code></th>
                              
                              <td rowspan="5">Creates or replaces resource descriptions</td>
                              
                              <td rowspan="5"><code>200 OK</code> <code>201 Created</code></td>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td><a href="#con-neg">RDF syntax error</a></td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td><a href="../administration/model/#constraints">Constraint</a> violation</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td>Request body does not contain a document instance</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>413 Payload Too Large</code></td>
                              
                              <td>Request body too large</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>415 Unsupported Media Type</code></td>
                              
                              <td><a href="#con-neg">Media type</a> not supported</td>
                              </tr>
                           
                           <tr>
                              
                              <th rowspan="2"><code id="ld-delete">DELETE</code></th>
                              
                              <td rowspan="2">Removes the description of the requested resource</td>
                              
                              <td rowspan="2"><code>204 No Content</code></td>
                              
                              <td><code>400 Bad Request</code></td>
                              
                              <td>Deleting the root document is not allowed</td>
                              </tr>
                           
                           <tr>
                              
                              <td><code>404 Not Found</code></td>
                              
                              <td>Resource with request URI not found</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                  
                  <div>
                     
                     <h2 id="graph-names">Graph names</h2>
                     
                     <p>If RDF data is submitted to the <code>service</code> endpoint using the <code>POST</code> method and the graph name is not specified, then the request RDF body must contain
                        <em>one</em> blank node instance of either <code>dh:Item</code>
                        with a <code>sioc:has_container</code> URI value or <code>dh:Container</code> with a <code>sioc:has_parent</code> URI value. They will be used to establish the <a href="../data-management/documents/#hierarchy">parent/child relationship</a> of the
                        specified parent container and the document being created from the RDF request body.
                        The new document's URI will be relative to its parent's. For example (Turtle syntax):</p>
                     
                     <pre><code>@prefix dh:     &lt;https://www.w3.org/ns/ldt/document-hierarchy#&gt; .
@prefix dct:    &lt;http://purl.org/dc/terms/&gt; .
@prefix sioc:   &lt;http://rdfs.org/sioc/ns#&gt; .
@prefix foaf:   &lt;http://xmlns.com/foaf/0.1/&gt; .

[ a dh:Item ;
    sioc:has_container &lt;https://localhost:4443/files/&gt; ;
    dct:title "New file" ;
    foaf:primaryTopic _:file 
] .

# _:file and other resources here</code></pre>
                     </div>
                  
                  <div>
                     
                     <h2 id="constraints">Built-in constraints</h2>
                     
                     <p>LinkedDataHub has a few built-in constraints that are not found in the standard Graph
                        Store Protocol:</p>
                     
                     <ul>
                        
                        <li>It's not possible delete the root resource</li>
                        
                        <li>It's not possible to modify or delete the documents of the owner agent and the secretary
                           agent</li>
                        
                        <li>A document (which is also a named graph in the graph store) must always contain an
                           RDF resource with its URI and type <code>def:Root</code>, <code>dh:Container</code>, or <code>dh:Item</code>
                           (see <a href="../administration/model/#ontologies">ontologies</a>)</li>
                        </ul>
                     
                     <p>The built in constraints are similar to, but separate from the <a href="../administration/model/#constraints">ontology constraints</a>.</p>
                     </div>
                  
                  <div>
                     
                     <h2 id="sparql">Executing SPARQL</h2>
                     
                     <p>Every LinkedDataHub application provides a SPARQL endpoint on <code>sparql</code> path (relative to the application's base URI). It supports the
                        <a href="https://www.w3.org/TR/sparql11-protocol/" target="_blank">SPARQL 1.1 Protocol</a> and serves as a proxy for the service endpoint of the
                        application.</p>
                     </div>
                  
                  <div>
                     
                     <h2 id="system-endpoints">System endpoints</h2>
                     
                     <p></p>
                     
                     <h3>Admin and end-user apps</h3>
                     
                     <dl>
                        
                        <dt><samp>add</samp></dt>
                        
                        <dd>Reads data from the specified URL location or uploaded file into the specified named
                           graph</dd>
                        
                        <dt><samp>importer</samp></dt>
                        
                        <dd>Handles CSV and RDF imports</dd>
                        
                        <dt><samp>ns</samp></dt>
                        
                        <dd>In-memory namespace ontology as well as its SPARQL endpoint</dd>
                        
                        <dt><samp>transform</samp></dt>
                        
                        <dd>Reads data from the specified URL location or uploaded file, transforms it using the
                           specified <code>CONSTRUCT</code> query, and stores the result into the specified named graph</dd>
                        </dl>
                     
                     <h3>Admin app only</h3>
                     
                     <dl>
                        
                        <dt><samp>admin/request%20accesss</samp></dt>
                        
                        <dd>Access request</dd>
                        
                        <dt><samp>admin/sign%20up</samp></dt>
                        
                        <dd>WebID-TLS agent signup</dd>
                        
                        <dt><samp>admin/oauth2/login</samp></dt>
                        
                        <dd>OpenID Connect with Google signup</dd>
                        
                        <dt><samp>oauth2/authorize/google</samp></dt>
                        
                        <dd>OpenID Connect callback</dd>
                        
                        <dt><samp>admin/clear</samp></dt>
                        
                        <dd>Clears the specified ontology from memory cache and reloads it from the admin SPARQL
                           endpoint</dd>
                        </dl>
                     </div>
                  
                  <div>
                     
                     <h2 id="ld-proxy">Linked Data proxy</h2>
                     
                     <p>LinkedDataHub works as a <dfn>Linked Data proxy</dfn> (from the end-user perspective, as a <dfn>Linked Data browser</dfn>) when a URL is provided using the <code>uri</code> query parameter.
                        All HTTP methods are supported.</p>
                     
                     <p>If the URL dereferences successfully as RDF, LinkedDataHub forwards its response body
                        (re-serializing it to enable content negotiation).
                        During a write request, the request body is forwarded to the provided URL.</p>
                     
                     <p>The proxy only accepts external (non-relative to the current application's base URI)
                        URLs; local URLs have to be dereferenced directly.</p>
                     </div>
                  
                  <div>
                     
                     <h2 id="con-neg">Content negotiation</h2>
                     
                     <p>LinkedDataHub implements <a href="https://tools.ietf.org/html/rfc7231#section-3.4.1" target="_blank">proactive conneg</a> based on the request <code>Accept</code>
                        header value.  The following RDF media types are supported (for requests as well as
                        responses, unless indicated otherwise):</p>
                     
                     <ul>
                        
                        <li><a href="https://www.w3.org/TR/turtle/" target="_blank">Turtle</a> <code>text/turtle</code></li>
                        
                        <li><a href="https://www.w3.org/TR/n-triples/" target="_blank">N-Triples</a> <code>application/n-triples</code></li>
                        
                        <li><a href="https://www.w3.org/TR/rdf-syntax-grammar/" target="_blank">RDF/XML</a> <code>application/rdf+xml</code></li>
                        
                        <li><a href="https://www.w3.org/TR/json-ld/" target="_blank">JSON-LD</a> <code>application/ld+json</code></li>
                        
                        <li><a href="https://atomgraph.github.io/RDF-POST/" target="_blank">RDF/POST</a> <code>application/x-www-form-urlencoded</code> (for requests only)</li>
                        </ul>
                     </div>
                  
                  <div>
                     
                     <h2 id="errors">Error responses</h2>
                     
                     <p>LinkedDataHub provides machine-readable error responses in the requested RDF format.
                        An example of <code>403 Forbidden</code>:</p>
                     
                     <pre><code>@prefix xsd:  &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix http: &lt;http://www.w3.org/2011/http#&gt; .
@prefix sc:   &lt;http://www.w3.org/2011/http-statusCodes#&gt; .
@prefix dct:  &lt;http://purl.org/dc/terms/&gt; .

[ a http:Response ;
    dct:title "Access not authorized" ;
    http:reasonPhrase "Forbidden" ;
    http:sc sc:Forbidden ;
    http:statusCodeValue "403"^^xsd:long
] .</code></pre>
                     </div>
                  
                  <div>
                     
                     <h2 id="caching">Caching</h2>
                     
                     <p><code>GET</code> and <code>HEAD</code> responses will be cached automatically by LinkedDataHub using <a href="https://varnish-cache.org" target="_blank">Varnish</a>
                        as HTTP proxy cache. You can check the age of the response by inspecting the <code>Age</code> response header (the value is in seconds).</p>
                     </div>
                  </div>
               <nav></nav>
            </main>
         </div>
      </div>
      <div class="footer container-fluid">
         <div class="row-fluid">
            <div class="offset2 span8">
               <div class="span3">
                  <h2 class="nav-header">About</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/about/" target="_blank">LinkedDataHub</a></li>
                     <li><a href="https://atomgraph.com" target="_blank">AtomGraph</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Resources</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://atomgraph.github.io/LinkedDataHub/linkeddatahub/docs/" target="_blank">Documentation</a></li>
                     <li><a href="https://www.youtube.com/channel/UCtrdvnVjM99u9hrjESwfCeg" target="_blank">Screencasts</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Support</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://groups.io/g/linkeddatahub" target="_blank">Mailing list</a></li>
                     <li><a href="https://github.com/AtomGraph/LinkedDataHub/issues" target="_blank">Report issues</a></li>
                     <li><a href="mailto:support@linkeddatahub.com">Contact support</a></li>
                  </ul>
               </div>
               <div class="span3">
                  <h2 class="nav-header">Follow us</h2>
                  <ul class="nav nav-list">
                     <li><a href="https://twitter.com/atomgraphhq" target="_blank">@atomgraphhq</a></li>
                     <li><a href="https://github.com/AtomGraph" target="_blank">github.com/AtomGraph</a></li>
                  </ul>
               </div>
            </div>
         </div>
      </div>
   </body>
</html>