@prefix ns:     <ns#> .
@prefix def:    <ns/default#> .
@prefix rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd:	<http://www.w3.org/2001/XMLSchema#> .
@prefix dh:	<https://www.w3.org/ns/ldt/document-hierarchy/domain#> .
@prefix dct:	<http://purl.org/dc/terms/> .
@prefix sioc:	<http://rdfs.org/sioc/ns#> .
   
[] a def:Item ;
    dh:slug "create-dataspace" ;
    dct:title "Create dataspace" ;
    dct:description "Step by step guide to creating a new dataspace backed by SPARQL services" ;
    sioc:content """<div xmlns="http://www.w3.org/1999/xhtml">
    <p class="lead">Step by step guide to creating a new dataspace backed by SPARQL services</p>
    <p>There are 3 main components that comprise a LinkedDataHub <a href="../manage-apps#dataspace">dataspace</a>:</p>
    <dl>
        <dt>End-user application</dt>
        <dd>An interface for end-users</dd>
        <dt>Admin application</dt>
        <dd>An interface for administrators</dd>
        <dt>SPARQL services</dt>
        <dd>Connections to the RDF datasource</dd>
    </dl>
    <p>Every application stores data in a single SPARQL service, therefore a separate service is needed for each end-user app and
        admin app.</p>
    <p>The end-user app will be available on the given base URI (which is relative to its context); the admin app will be available
        at that base URI with <code>admin/</code> appended. The agent that installed the admin dataset will be the application owner.</p>
    <div>
        <h2>Using command line interface</h2>
        <p>Checkout the <a href="../command-line-interface">Command line interface</a> (CLI) scripts into a folder on your machine. Provide a list of arguments to the <samp>create-dataspace</samp> script and execute it. For example:</p>
        <pre>./create-dataspace.sh \\
-b https://linkeddatahub.com/my-context/ \\
-f linkeddatahub.pem \\
-p CertPassword \\
--title "My dataspace" \\
--description "Dataspace for my data" \\
--slug my-dataspace \\
--app-base https://linkeddatahub.com/my-context/my-dataspace/ \\
--admin-endpoint http://localhost:3030/admin/sparql \\
--admin-graph-store http://localhost:3030/admin/data \\
--admin-service-user AdminServiceUser \\
--admin-service-password AdminServicePassword \\
--end-user-endpoint http://localhost:3030/end-user/sparql \\
--end-user-graph-store http://localhost:3030/end-user/data \\
--end-user-service-user EndUserServiceUser \\
--end-user-service-password EndUserServicePassword</pre>
        <p>If you want to install default datasets into end-user and admin services respectively, choose the <samp>install-dataspace</samp> script instead (same parameters apply).</p>
        <p>If you are using Dydra as the triplestore, you might want to use the Dydra-specific <samp>dydra/create-dataspace</samp> script instead.</p>
    </div>
    <div>
        <h2>Using user interface</h2>
        <p class="text-center">
            <iframe allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/koA6YOrxlh4?list=PLnDXST4pVcQQr-j3YXrVvGRP46E2Nnn5l" width="560"></iframe>
        </p>
        <p>In the steps below we will guide you through the process of creating an LDH dataspace using UI:</p>
        <ol>
            <li>
                <p>On the top left-hand side click on the <span class="btn">Create</span> button</p>
            </li>
            <li>
                <p>Choose <dfn>End-user Application</dfn>. This will open a new form.</p>
                <ol>
                    <li>
                        <p>Next to the <dfn>Admin application</dfn> input, click on the <span class="btn">
                            <img alt="Add" src="../../static/com/atomgraph/platform/icons/ic_note_add_black_24px.svg"></img></span>
                            button and choose <dfn>Admin application</dfn>. This will open a new form.</p>
                        <ol>
                            <li>
                                <p>Next to the <dfn>SPARQL service</dfn> field click on the <span class="btn">
                                <img alt="Add" src="../../static/com/atomgraph/platform/icons/ic_note_add_black_24px.svg"></img></span>
                                button and select either <dfn>Dydra service</dfn> or <dfn>Generic service</dfn>, if you're using a
                                different triplestore. This will open a new form.</p>
                                <ol>
                                    <li>
                                        <p>If you select the <dfn>Dydra Service</dfn>, fill out these mandatory fields:</p>
                                        <dl>
                                            <dt>Title</dt>
                                            <dd>Service title</dd>
                                            <dt>Repository</dt>
                                            <dd>Dydra repository URI</dd>
                                            <dt>queryAuthUser</dt>
                                            <dd>Authentication username</dd>
                                            <dt>queryAuthPwd</dt>
                                            <dd>Authentication password</dd>
                                            <dt>Title</dt>
                                            <dd>Document title</dd>
                                        </dl>
                                    </li>
                                    <li>
                                        <p>If you select the <dfn>Generic service</dfn>, fill out these mandatory fields:</p>
                                        <dl>
                                            <dt>Title</dt>
                                            <dd>Service title</dd>
                                            <dt>Endpoint</dt>
                                            <dd>SPARQL endpoint URI</dd>
                                            <dt>Graph store</dt>
                                            <dd>Graph store URI</dd>
                                            <dt>queryAuthUser</dt>
                                            <dd>Authentication username</dd>
                                            <dt>queryAuthPwd</dt>
                                            <dd>Authentication password</dd>
                                            <dt>Title</dt>
                                            <dd>Document title</dd>
                                        </dl>
                                    </li>
                                    <li>
                                        <p>Once the input is done click <span class="btn">Save</span> and you will be brought back to
                                            the admin application form.</p>
                                    </li>
                                </ol>
                            </li>
                            <li>
                                <p>Fill out the rest of the input fields:</p>
                                <dl>
                                    <dt>Title</dt>
                                    <dd>Admin application title</dd>
                                    <dt>Title</dt>
                                    <dd>Document title</dd>
                                </dl>
                            </li>
                            <li>
                                <p>Once the input is done click <span class="btn">Save</span> and you will be brought back to
                                    the end-user application form.</p>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>Fill out the rest of the input fields:</p>
                        <dl>
                            <dt>Base URI</dt>
                            <dd>End-user application <a href="../manage-apps#applications">base URI</a></dd>
                            <dt>Ontology</dt>
                            <dd>URI of this application's <a href="../manage-apps#applications">ontology</a>.
                                Leave the default one for now, it can be changed later.</dd>
                            <dt>SPARQL service</dt>
                            <dd>Repeat the same steps as for the admin application (<em>but do not use the same service</em>)</dd>
                            <dt>Title</dt>
                            <dd>End-user application title</dd>
                            <dt>Title</dt>
                            <dd>Document title</dd>
                        </dl>
                    </li>
                    <li>
                        <p>Once the input is done click <span class="btn">Save</span></p>
                    </li>
                    <li>
                        <p>Now the end-user and admin apps can be found in the context's <dfn>Apps / End-user apps</dfn> and <dfn>Apps /
                            Admin apps</dfn> containers, respectively.</p>
                    </li>
                    <li>
                        <p>Open each of the apps and click <span class="btn">Install dataset</span> to push the default app datasets
                            into their SPARQL services. Give it some time.</p>
                    </li>
                </ol>
            </li>
        </ol>
        <p>We have now created all the three main components of a LinkedDataHub dataspace.</p>
    </div>
</div>"""^^rdf:XMLLiteral .
