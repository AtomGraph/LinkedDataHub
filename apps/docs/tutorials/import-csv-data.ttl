@prefix ns:     <ns#> .
@prefix def:    <ns/default#> .
@prefix rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xsd:	<http://www.w3.org/2001/XMLSchema#> .
@prefix dh:	<https://www.w3.org/ns/ldt/document-hierarchy/domain#> .
@prefix dct:	<http://purl.org/dc/terms/> .
@prefix sioc:	<http://rdfs.org/sioc/ns#> .
    
[] a def:Item ;
    dh:slug "import-csv-data" ;
    dct:title "Import CSV data" ;
    dct:description "Step by step guide to converting CSV data to RDF and importing into end-user application" ;
    sioc:content """<div xmlns="http://www.w3.org/1999/xhtml">
    <p class="lead">Step by step guide to converting CSV data to RDF and importing into end-user application</p>
    <p>There are 3 main components that comprise a CSV import:</p>
    <dl>
        <dt>CSV file</dt>
        <dd>The file containing the tabular data</dd>
        <dt>Mapping query</dt>
        <dd>SPARQL <code>CONSTRUCT</code> query that maps CSV to generic RDF represenation</dd>
        <dt>CSV import</dt>
        <dd>Connects the file with the corresponding query and submits the transformed RDF data to the specified action container</dd>
    </dl>
    <div>
        <h2>Using command line interface</h2>
        <p>Checkout the <a href="../command-line-interface">Command line interface</a> (CLI) scripts into a folder on your machine. Provide a list of arguments to the <samp>import-csv</samp> script and execute it. For example:</p>
        <pre>./import-csv.sh \\
-b https://linkeddatahub.com/my-context/my-app/ \\
-f linkeddatahub.pem \\
-p CertPassword \\
--title "Places" \\
--query-file places.rq \\
--file places.csv \\
--action "${base}places/"</pre>
    </div>
    <div>
        <h2>Using user interface</h2>
        <p class="text-center">
            <iframe allowfullscreen="allowfullscreen" frameborder="0" height="315" src="https://www.youtube.com/embed/vkuO6RiTW9s?list=PLnDXST4pVcQQr-j3YXrVvGRP46E2Nnn5l" width="560"></iframe>
        </p>
        <p>LinkedDataHub allows all the import components be created from a single dialogue, but we will go through the process in separate
            steps:</p>
        <ol>
            <li>
                <p>First, create a container for the data to be imported. This will be the import's <dfn>target container</dfn>.</p>
            </li>
            <li>
                <p>Upload a CSV file. Click on the <span class="btn">Create</span> button in the top left-hand corner and select
                    <dfn>File</dfn>. This will open a new form.</p>
            </li>
            <li>
                <p>Fill in the mandatory fields:</p>
                <dl>
                    <dt>Title</dt>
                    <dd>File title</dd>
                    <dt>Filename</dt>
                    <dd>Click on <dfn>Choose file</dfn> and select a CSV file from your computer</dd>
                    <dt>Title</dt>
                    <dd>Document title</dd>
                </dl>
            </li>
            <li>
                <p>Once all the fields have been filled in, click <span class="btn">Save</span></p>
            </li>
            <li>
                <p>The browser will open your imported file</p>
            </li>
            <li>
                <p>Create a <a href="../usage/import-data#vocabulary-conversion">mapping query</a> that will
                transform the uploaded CSV to RDF. Click on the <span class="btn">Create</span> button in the top left-hand corner and
                select <dfn>CONSTRUCT</dfn>. This will open a new form.</p>
            </li>
            <li>
                <p>Fill out the mandatory fields:</p>
                <dl>
                    <dt>Text</dt>
                    <dd>SPARQL <code>CONSTRUCT</code> query string</dd>
                    <dd><em>You will not be able to save the query if its syntax is not valid SPARQL 1.1.</em></dd>
                    <dt>Title</dt>
                    <dd>Query title</dd>
                    <dt>Title</dt>
                    <dd>Document title</dd>
                </dl>
            </li>
            <li>
                <p>Once all the fields have been filled in click <span class="btn">Save</span>. You can find this saved under
                    <dfn>Queries</dfn> container in <a href="../user-interface#left-nav">left navigation</a>.</p>
            </li>
            <li>
                <p>Click on the <span class="btn">Create</span> button at the top left-hand corner and select <dfn>CSV import</dfn>.
                    This will open a new form.</p>
            </li>
            <li>
                <p>Fill out the mandatory fields:</p>
                <dl>
                    <dt>File</dt>
                    <dd>Start typing the name of your CSV file and select it from the typeahead.</dd>
                    <dt>Query</dt>
                    <dd>Select the corresponding mapping query using the typeahead.</dd>
                    <dt>Target container</dt>
                    <dd>Select the target container using the typeahead.</dd>
                    <dt>Title</dt>
                    <dd>Import title</dd>
                    <dt>Title</dt>
                    <dd>Document title</dd>
                </dl>
            </li>
            <li>
                <p>Click <span class="btn">Save</span> and you will be redirected the newly created import document.</p>
            </li>
            <li>
                <p>Refresh the document after a couple of moments to see the import progress. In case of success, the amount of data
                    imported will be displayed. In case of failure, constraint violation(s) or other import issues will be displayed.
                </p>
            </li>
            <li>
                <p>Go back to the target container to see the newly imported data items.</p>
            </li>
        </ol>
    </div>
</div>"""^^rdf:XMLLiteral .
