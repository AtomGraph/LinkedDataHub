@base		<https://w3id.org/atomgraph/linkeddatahub/admin> .

@prefix :	<#> .
@prefix def:    <https://w3id.org/atomgraph/linkeddatahub/default#> .
@prefix rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:	<http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:	<http://www.w3.org/2001/XMLSchema#> .
@prefix owl:	<http://www.w3.org/2002/07/owl#> .
@prefix ldt:	<https://www.w3.org/ns/ldt#> .
@prefix dh:	<https://www.w3.org/ns/ldt/document-hierarchy/domain#> .
@prefix sp:	<http://spinrdf.org/sp#> .
@prefix spin:	<http://spinrdf.org/spin#> .
@prefix sioc:	<http://rdfs.org/sioc/ns#> .
@prefix foaf:	<http://xmlns.com/foaf/0.1/> .
@prefix lacl:	<https://w3id.org/atomgraph/linkeddatahub/admin/acl#> .
@prefix lsm:	<https://w3id.org/atomgraph/linkeddatahub/admin/sitemap#> .
@prefix ldh:	<https://w3id.org/atomgraph/linkeddatahub#> .
@prefix dct:	<http://purl.org/dc/terms/> .

: a owl:Ontology ;
    owl:imports ldh:, lacl:, lsm: ;
    owl:versionInfo "1.1.4" ;
    rdfs:label "Admin ontology" ;
    rdfs:comment "AtomGraph admin application ontology" .

:Container a rdfs:Class ;
    rdfs:subClassOf dh:Container ;
    spin:constructor :DocumentConstructor ;
    # spin:constraint :MissingTitle ;
    ldh:template def:ContainerChildren ;
    rdfs:label "Container" ;
    rdfs:isDefinedBy : .

:Item a rdfs:Class ;
    rdfs:subClassOf dh:Item ;
    spin:constructor :DocumentConstructor ;
    # spin:constraint :MissingTitle ;
    rdfs:label "Item" ;
    rdfs:isDefinedBy : .

:DocumentConstructor a sp:Construct ;
    sp:text """
        PREFIX rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX xsd:     <http://www.w3.org/2001/XMLSchema#>
        PREFIX dct:     <http://purl.org/dc/terms/>
        PREFIX foaf:    <http://xmlns.com/foaf/0.1/>
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>

        CONSTRUCT {
          ?this dct:title [ a xsd:string ] ;
              dct:description [ a xsd:string ] ;
              foaf:primaryTopic [ a rdfs:Resource ] .
        }
        WHERE {}
    """ ;
    rdfs:label "Document constructor" ;
    rdfs:isDefinedBy : .

:MissingTitle a ldh:MissingPropertyValue ;
    sp:arg1 dct:title ;
    rdfs:label "Missing title" ;
    rdfs:isDefinedBy : .