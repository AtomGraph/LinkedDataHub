@base           <http://rdfs.org/sioc/ns> .

@prefix :       <#> .
@prefix rdf:	<http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:	<http://www.w3.org/2000/01/rdf-schema#> .
@prefix ldh:	<https://w3id.org/atomgraph/linkeddatahub#> .
@prefix sp:	<http://spinrdf.org/sp#> .
@prefix spin:	<http://spinrdf.org/spin#> .

# USER ACCOUNT

:UserAccount spin:constructor :UserAccountConstructor ;
    spin:constraint _:MissingName, _:MissingEmail, _:MissingAccountOf ;
    rdfs:label "User account" .

_:MissingName a ldh:MissingPropertyValue ;
    rdfs:label "Missing sioc:name" ;
    sp:arg1 :name .

_:MissingEmail a ldh:MissingPropertyValue ;
    rdfs:label "Missing sioc:email" ;
    sp:arg1 :email .

_:MissingAccountOf a ldh:MissingPropertyValue ;
    rdfs:label "Missing sioc:account_of" ;
    sp:arg1 :account_of .

:UserAccountConstructor a sp:Construct ;
    rdfs:label "User account constructor" ;
    sp:text """
        PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX foaf:    <http://xmlns.com/foaf/0.1/>
        PREFIX sioc:    <http://rdfs.org/sioc/ns#>
        PREFIX xsd:     <http://www.w3.org/2001/XMLSchema#>

        CONSTRUCT {
            ?this sioc:name [ a xsd:string ] ;
                sioc:email [ a rdfs:Resource ] ;
                sioc:account_of [ a foaf:Agent ] .
        }
        WHERE {}""" .